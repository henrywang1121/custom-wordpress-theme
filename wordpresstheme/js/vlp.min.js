jQuery((function(e){if(e("#vlpFilterButton").on("click",(function(){e(".vlp__filter").addClass("show"),e("body").addClass("filter-show")})),e("#vlpFilterClose").on("click",(function(){e(".vlp__filter").removeClass("show"),e("body").removeClass("filter-show")})),e("#vlpFilterBackdrop").on("click",(function(){e(".vlp__filter").removeClass("show"),e("body").removeClass("filter-show")})),e("#vlpSortDropdownButton").on("click",(function(){const t=e("#vlpSortDropdown");t.hasClass("show")?t.removeClass("show"):t.addClass("show")})),e("#vlpSortDropdownMenu button").on("click",(function(){const t=e(this).data("value"),n=e(this).text();e("#vlpSortDropdownSelected").text(n),e("#sort").val(t),e("#vlpFilter").submit()})),e(".slider-histogram").each((function(){let t=0;e(this).find(".slider-histogram__col").each((function(){const n=parseInt(e(this).data("quantity"));n>t&&(t=n)}));const n=70/t;e(this).find(".slider-histogram__col").each((function(){const o=parseInt(e(this).data("quantity"));e(this).height(o*n),e(this).css("opacity",o/t)}))})),"undefined"!=typeof noUiSlider){const e=document.getElementById("sliderYear"),t=document.getElementById("yearFrom"),n=document.getElementById("yearTo");if(e&&t&&n){let o=parseInt(t.dataset.options);o||(o=parseInt(t.value));let a=parseInt(n.dataset.options);a||(a=parseInt(n.value)),a===o&&a++,o&&a&&(noUiSlider.create(e,{start:[parseInt(t.value),parseInt(n.value)],connect:!0,step:1,range:{min:o,max:a},format:{to:e=>e,from:e=>Number(e)},handleAttributes:[{"aria-label":"Year From"},{"aria-label":"Year To"}]}),e.noUiSlider.on("update",(function(e,o){const a=e[o];0===o?t.value=a:n.value=a})),t.addEventListener("change",(function(){e.noUiSlider.set([this.value,null])})),n.addEventListener("change",(function(){e.noUiSlider.set([null,this.value])})))}const o=document.getElementById("sliderMiles"),a=document.getElementById("milesFrom"),i=document.getElementById("milesTo");if(o&&a&&i){let e=parseInt(a.dataset.options);e||(e=parseInt(a.value));let t=parseInt(i.dataset.options);t||(t=parseInt(i.value)),t===e&&(t+=1e4),t&&(noUiSlider.create(o,{start:[parseInt(a.value),parseInt(i.value)],connect:!0,step:1e4,range:{min:e,max:t},format:{to:e=>e,from:e=>Number(e)},handleAttributes:[{"aria-label":"Miles From"},{"aria-label":"Miles To"}]}),o.noUiSlider.on("update",(function(e,t){const n=e[t];0===t?a.value=n:i.value=n})),a.addEventListener("change",(function(){o.noUiSlider.set([this.value,null])})),i.addEventListener("change",(function(){o.noUiSlider.set([null,this.value])})))}const s=document.getElementById("sliderPrice"),r=document.getElementById("priceFrom"),l=document.getElementById("priceTo");if(s&&r&&l){let e=parseInt(r.dataset.options);""===e&&(e=parseInt(r.value));let t=parseInt(l.dataset.options);""===t&&(t=parseInt(l.value)),e===t&&(t+=1e3),""!==e&&""!==t&&(noUiSlider.create(s,{start:[parseInt(r.value),parseInt(l.value)],connect:!0,step:1e3,range:{min:e,max:t},format:{to:e=>Number(e),from:e=>Number(e)},handleAttributes:[{"aria-label":"Price From"},{"aria-label":"Price To"}]}),s.noUiSlider.on("update",(function(e,t){const n=e[t];0===t?r.value=n:l.value=n})),r.addEventListener("change",(function(){s.noUiSlider.set([this.value,null])})),l.addEventListener("change",(function(){s.noUiSlider.set([null,this.value])})))}}const t=e("#vlpFilter"),n=t.find("#yearFrom, #yearTo, #milesFrom, #milesTo, #priceFrom, #priceTo");t.on("submit",(function(){e(this).find('input[name="inventory"], input[name="make"], input[name="model"], input[name="trim"], input[name="color"], input[name="transmission"], input[name="drivetrain"], input[name="fuel"]').val("");const t={};e(this).find('input[name*="[]"]:checked').each((function(){const n=e(this).prop("name").replace("[]",""),o=e(this).prop("value");Object.prototype.hasOwnProperty.call(t,n)||(t[n]=[]),t[n].push(o),e(this).prop("name","")})),Object.keys(t).length&&e.each(t,(function(t,n){e('[name="'+t+'"]').val(n.join(","))})),n.each((function(){const t=e(this).data("options");Number(e(this).val())===t&&e(this).prop("name","")})),e(this).find("input").each((function(){e(this).val()||e(this).prop("name","")}))})),e(".vlpFilterSelectionsButton").on("click",(function(n){n.preventDefault();const o=e(this).data("key"),a=e(this).data("value");-1!==o.indexOf("[]")?e('[name="'+o+'"][value="'+a+'"]').prop("name",""):e('[name="'+o+'"]').prop("name",""),t.trigger("submit")}));const o=e('input[name="compare[]"]');o.on("change",(function(){2===o.filter(":checked").length?o.not(":checked").attr("disabled",!0):o.filter(":checked").length>2?e(this).prop("checked",!1):o.not(":checked").attr("disabled",!1)}))}));const buttons=document.querySelectorAll(".tooltip__button--inTransitButton"),tooltip=document.querySelector("#inTransitInfoTooltip"),popperInstances={};function show(){tooltip.setAttribute("data-show",""),popperInstances[this.dataset.tooltip].update()}function hide(){tooltip.removeAttribute("data-show")}buttons.forEach((e=>{popperInstances[e.dataset.tooltip]=Popper.createPopper(e,tooltip,{modifiers:[{name:"offset",options:{offset:[0,16]}}]})}));const showEvents=["mouseenter","focus"],hideEvents=["mouseleave","blur"];showEvents.forEach((e=>{buttons.forEach((t=>{t.addEventListener(e,show)}))})),hideEvents.forEach((e=>{buttons.forEach((t=>{t.addEventListener(e,hide)}))}));